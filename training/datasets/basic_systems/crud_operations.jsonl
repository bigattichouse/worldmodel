{"id": "crud_001", "category": "basic_systems", "subcategory": "crud_operations", "difficulty": "basic", "user_query": "Design a book library catalog system", "response": "<thinking>\nPROBLEM UNDERSTANDING:\n- Need system to manage library book catalog\n- Should handle adding, updating, finding, and removing books\n- Must track basic book information like title, author, ISBN\n- Should support search and filtering capabilities\n\nSTRATEGIC APPROACH:\n- Create a book catalog service with standard CRUD operations\n- Design database schema for book entities\n- Include search and filtering functionality\n- Add validation for book data integrity\n\nDESIGN PREPARATION:\n- Book entity with essential metadata\n- CRUD service methods with proper validation\n- Search capabilities by various fields\n- Database indexes for performance\n</thinking>\n\n<blueprint>\nService LibraryCatalog {\n  description: \"Manages library book catalog with CRUD operations\",\n  \n  dependencies: {\n    storage: LibraryDatabase,\n    validator: BookDataValidator\n  },\n  \n  methods: {\n    addBook(book: BookInfo) -> BookId {\n      preconditions: [ISBN is valid, title not empty, author not empty],\n      postconditions: [book stored with unique ID, searchable by all fields],\n      errors: [InvalidISBN, DuplicateBook, ValidationError]\n    },\n    \n    updateBook(bookId: BookId, updates: BookUpdates) -> void {\n      preconditions: [book exists, updates are valid],\n      postconditions: [book updated, search indexes refreshed],\n      errors: [BookNotFound, InvalidUpdate]\n    },\n    \n    findBook(bookId: BookId) -> BookInfo {\n      preconditions: [valid book ID provided],\n      postconditions: [returns book info or null if not found]\n    },\n    \n    searchBooks(criteria: SearchCriteria) -> BookInfo[] {\n      preconditions: [search criteria valid],\n      postconditions: [returns matching books sorted by relevance],\n      errors: [InvalidSearchCriteria]\n    },\n    \n    removeBook(bookId: BookId) -> void {\n      preconditions: [book exists, not currently checked out],\n      postconditions: [book removed, search indexes updated],\n      errors: [BookNotFound, BookInUse]\n    }\n  }\n}\n\nDatabase LibraryDatabase {\n  Table Books {\n    columns: {\n      id: {type: UUID, primaryKey: true},\n      isbn: {type: String, unique: true, required: true},\n      title: {type: String, required: true, maxLength: 500},\n      author: {type: String, required: true, maxLength: 200},\n      publisher: {type: String, maxLength: 200},\n      publishedYear: {type: Int, min: 1000, max: 2100},\n      genre: {type: String, maxLength: 100},\n      pages: {type: Int, min: 1},\n      available: {type: Bool, default: true},\n      createdAt: {type: Timestamp, default: \"now()\"},\n      updatedAt: {type: Timestamp, default: \"now()\"}\n    },\n    indexes: [\n      {name: \"idx_isbn\", columns: [\"isbn\"]},\n      {name: \"idx_title\", columns: [\"title\"]},\n      {name: \"idx_author\", columns: [\"author\"]},\n      {name: \"idx_genre\", columns: [\"genre\"]}\n    ]\n  }\n}\n\nType BookInfo {\n  id: BookId,\n  isbn: string,\n  title: string,\n  author: string,\n  publisher: string,\n  publishedYear: int,\n  genre: string,\n  pages: int,\n  available: bool\n}\n\nType SearchCriteria {\n  title: string?,\n  author: string?,\n  isbn: string?,\n  genre: string?,\n  publishedYear: int?,\n  availableOnly: bool?\n}\n</blueprint>"}
{"id": "crud_002", "category": "basic_systems", "subcategory": "crud_operations", "difficulty": "basic", "user_query": "Create a contact management system", "response": "<thinking>\nPROBLEM UNDERSTANDING:\n- Need system to store and manage personal/business contacts\n- Should handle contact information like name, phone, email, address\n- Must support adding, editing, searching, and organizing contacts\n- Should allow grouping contacts by categories or tags\n\nSTRATEGIC APPROACH:\n- Design contact management service with full CRUD operations\n- Include flexible contact information storage\n- Support contact categorization and tagging\n- Add search and filtering by multiple criteria\n- Include data validation and deduplication\n\nDESIGN PREPARATION:\n- Contact entity with comprehensive personal information\n- Category/tag system for organization\n- Search functionality across all contact fields\n- Validation for email, phone number formats\n</thinking>\n\n<blueprint>\nService ContactManager {\n  description: \"Manages personal and business contacts with organization features\",\n  \n  dependencies: {\n    storage: ContactDatabase,\n    validator: ContactValidator,\n    deduplicator: ContactDeduplicator\n  },\n  \n  methods: {\n    createContact(contactData: ContactInfo) -> ContactId {\n      preconditions: [at least name or email provided, valid email format if provided],\n      postconditions: [contact created, searchable, checked for duplicates],\n      errors: [ValidationError, PossibleDuplicate]\n    },\n    \n    updateContact(contactId: ContactId, updates: ContactUpdates) -> void {\n      preconditions: [contact exists, updates are valid],\n      postconditions: [contact updated, duplicate check performed],\n      errors: [ContactNotFound, ValidationError]\n    },\n    \n    getContact(contactId: ContactId) -> ContactInfo {\n      preconditions: [valid contact ID],\n      postconditions: [returns complete contact information]\n    },\n    \n    searchContacts(query: SearchQuery) -> ContactInfo[] {\n      preconditions: [query not empty],\n      postconditions: [returns matching contacts ranked by relevance]\n    },\n    \n    deleteContact(contactId: ContactId) -> void {\n      preconditions: [contact exists],\n      postconditions: [contact removed, associated tags cleaned up],\n      errors: [ContactNotFound]\n    },\n    \n    addContactToGroup(contactId: ContactId, groupName: string) -> void {\n      preconditions: [contact exists, group name valid],\n      postconditions: [contact associated with group]\n    }\n  }\n}\n\nDatabase ContactDatabase {\n  Table Contacts {\n    columns: {\n      id: {type: UUID, primaryKey: true},\n      firstName: {type: String, maxLength: 100},\n      lastName: {type: String, maxLength: 100},\n      company: {type: String, maxLength: 200},\n      title: {type: String, maxLength: 150},\n      email: {type: String, maxLength: 255},\n      phone: {type: String, maxLength: 20},\n      address: {type: String, maxLength: 500},\n      notes: {type: Text},\n      createdAt: {type: Timestamp, default: \"now()\"},\n      updatedAt: {type: Timestamp, default: \"now()\"}\n    },\n    indexes: [\n      {name: \"idx_name\", columns: [\"firstName\", \"lastName\"]},\n      {name: \"idx_email\", columns: [\"email\"]},\n      {name: \"idx_company\", columns: [\"company\"]}\n    ]\n  },\n  \n  Table ContactGroups {\n    columns: {\n      id: {type: UUID, primaryKey: true},\n      contactId: {type: UUID, foreignKey: \"Contacts.id\"},\n      groupName: {type: String, required: true, maxLength: 100}\n    }\n  }\n}\n\nType ContactInfo {\n  id: ContactId,\n  firstName: string,\n  lastName: string,\n  company: string,\n  title: string,\n  email: string,\n  phone: string,\n  address: string,\n  notes: string,\n  groups: string[]\n}\n</blueprint>"}
{"id": "crud_003", "category": "basic_systems", "subcategory": "crud_operations", "difficulty": "basic", "user_query": "Build a product inventory tracker", "response": "<thinking>\nPROBLEM UNDERSTANDING:\n- Need system to track products and their inventory levels\n- Should handle product creation, updates, stock management\n- Must track stock quantities, reorder points, suppliers\n- Should support low stock alerts and inventory reports\n\nSTRATEGIC APPROACH:\n- Create inventory management service with product CRUD\n- Include stock level tracking and movement history\n- Add automated low stock detection and alerting\n- Support supplier information and reorder management\n- Include audit trail for all inventory changes\n\nDESIGN PREPARATION:\n- Product entities with SKU, description, pricing\n- Stock tracking with current levels and movements\n- Alert system for low stock conditions\n- Supplier relationship management\n</thinking>\n\n<blueprint>\nService InventoryTracker {\n  description: \"Tracks product inventory with automated stock management\",\n  \n  dependencies: {\n    storage: InventoryDatabase,\n    alerts: StockAlertService,\n    audit: InventoryAuditLogger\n  },\n  \n  methods: {\n    addProduct(product: ProductInfo) -> ProductId {\n      preconditions: [SKU unique, name not empty, valid pricing],\n      postconditions: [product created, stock initialized, searchable],\n      errors: [DuplicateSKU, ValidationError]\n    },\n    \n    updateProduct(productId: ProductId, updates: ProductUpdates) -> void {\n      preconditions: [product exists, updates valid],\n      postconditions: [product updated, audit logged],\n      errors: [ProductNotFound, ValidationError]\n    },\n    \n    adjustStock(productId: ProductId, quantity: int, reason: string) -> void {\n      preconditions: [product exists, quantity change justified],\n      postconditions: [stock updated, movement logged, alerts checked],\n      errors: [ProductNotFound, InsufficientStock]\n    },\n    \n    getProduct(productId: ProductId) -> ProductInfo {\n      preconditions: [valid product ID],\n      postconditions: [returns product with current stock levels]\n    },\n    \n    getLowStockProducts() -> ProductInfo[] {\n      preconditions: [none],\n      postconditions: [returns products below reorder point]\n    },\n    \n    recordStockMovement(productId: ProductId, movement: StockMovement) -> void {\n      preconditions: [product exists, movement valid],\n      postconditions: [movement recorded, stock updated, audit trail created]\n    }\n  }\n}\n\nDatabase InventoryDatabase {\n  Table Products {\n    columns: {\n      id: {type: UUID, primaryKey: true},\n      sku: {type: String, unique: true, required: true},\n      name: {type: String, required: true, maxLength: 200},\n      description: {type: Text},\n      category: {type: String, maxLength: 100},\n      unitPrice: {type: Decimal, precision: 10, scale: 2},\n      costPrice: {type: Decimal, precision: 10, scale: 2},\n      currentStock: {type: Int, default: 0, min: 0},\n      reorderPoint: {type: Int, default: 10},\n      maxStock: {type: Int},\n      supplierId: {type: UUID, foreignKey: \"Suppliers.id\"},\n      isActive: {type: Bool, default: true},\n      createdAt: {type: Timestamp, default: \"now()\"},\n      updatedAt: {type: Timestamp, default: \"now()\"}\n    },\n    indexes: [\n      {name: \"idx_sku\", columns: [\"sku\"]},\n      {name: \"idx_category\", columns: [\"category\"]},\n      {name: \"idx_low_stock\", columns: [\"currentStock\", \"reorderPoint\"]}\n    ]\n  },\n  \n  Table StockMovements {\n    columns: {\n      id: {type: UUID, primaryKey: true},\n      productId: {type: UUID, foreignKey: \"Products.id\"},\n      movementType: {type: String, enum: [\"IN\", \"OUT\", \"ADJUSTMENT\"]},\n      quantity: {type: Int, required: true},\n      reason: {type: String, required: true},\n      previousStock: {type: Int, required: true},\n      newStock: {type: Int, required: true},\n      createdAt: {type: Timestamp, default: \"now()\"}\n    }\n  }\n}\n\nType ProductInfo {\n  id: ProductId,\n  sku: string,\n  name: string,\n  description: string,\n  category: string,\n  unitPrice: decimal,\n  currentStock: int,\n  reorderPoint: int,\n  isLowStock: bool\n}\n\nType StockMovement {\n  movementType: string,\n  quantity: int,\n  reason: string\n}\n</blueprint>"}