{"id": "calc_001", "category": "basic_systems", "subcategory": "simple_calculations", "difficulty": "basic", "user_query": "Design a loan payment calculator", "response": "<thinking>\nPROBLEM UNDERSTANDING:\n- Need calculator for monthly loan payments\n- Should handle principal amount, interest rate, loan term\n- Must calculate monthly payment, total interest, total cost\n- Should support different loan types and payment frequencies\n\nSTRATEGIC APPROACH:\n- Create loan calculation service with financial formulas\n- Support multiple payment frequencies (monthly, bi-weekly)\n- Include amortization schedule generation\n- Add validation for realistic loan parameters\n- Provide detailed payment breakdown information\n\nDESIGN PREPARATION:\n- Core payment calculation using standard formulas\n- Input validation for loan parameters\n- Payment schedule generation capabilities\n- Result formatting with financial details\n</thinking>\n\n<blueprint>\nService LoanCalculator {\n  description: \"Calculates loan payments and generates amortization schedules\",\n  \n  methods: {\n    calculateMonthlyPayment(principal: decimal, annualRate: decimal, termYears: int) -> PaymentResult {\n      preconditions: [principal > 0, annualRate >= 0, termYears > 0],\n      postconditions: [returns accurate monthly payment with breakdown],\n      errors: [InvalidPrincipal, InvalidRate, InvalidTerm]\n    },\n    \n    generateAmortizationSchedule(loanDetails: LoanDetails) -> AmortizationSchedule {\n      preconditions: [loan details valid],\n      postconditions: [returns complete payment schedule],\n      errors: [InvalidLoanDetails]\n    },\n    \n    calculateTotalCost(principal: decimal, monthlyPayment: decimal, termYears: int) -> CostBreakdown {\n      preconditions: [all parameters positive],\n      postconditions: [returns total cost analysis],\n      errors: [InvalidParameters]\n    },\n    \n    compareLoanOptions(loans: LoanOption[]) -> LoanComparison {\n      preconditions: [at least 2 loan options provided],\n      postconditions: [returns ranked comparison with metrics]\n    }\n  }\n}\n\nType PaymentResult {\n  monthlyPayment: decimal,\n  totalPayments: decimal,\n  totalInterest: decimal,\n  principal: decimal,\n  effectiveRate: decimal\n}\n\nType LoanDetails {\n  principal: decimal,\n  annualInterestRate: decimal,\n  termYears: int,\n  paymentFrequency: PaymentFrequency\n}\n\nType AmortizationSchedule {\n  payments: PaymentEntry[],\n  summary: PaymentSummary\n}\n\nType PaymentEntry {\n  paymentNumber: int,\n  paymentAmount: decimal,\n  principalPortion: decimal,\n  interestPortion: decimal,\n  remainingBalance: decimal,\n  paymentDate: date\n}\n\nType PaymentFrequency {\n  enum: [\"monthly\", \"bi-weekly\", \"weekly\", \"quarterly\"]\n}\n\nValidation LoanLimits {\n  minimumPrincipal: {value: 1000, currency: \"USD\"},\n  maximumPrincipal: {value: 10000000, currency: \"USD\"},\n  minimumRate: {value: 0.0, percentage: true},\n  maximumRate: {value: 50.0, percentage: true},\n  minimumTerm: {value: 1, unit: \"years\"},\n  maximumTerm: {value: 50, unit: \"years\"}\n}\n</blueprint>"}
{"id": "calc_002", "category": "basic_systems", "subcategory": "simple_calculations", "difficulty": "basic", "user_query": "Create a BMI calculation system", "response": "<thinking>\nPROBLEM UNDERSTANDING:\n- Need system to calculate Body Mass Index from height and weight\n- Should support different measurement units (metric, imperial)\n- Must provide BMI classification and health recommendations\n- Should include validation for realistic human measurements\n\nSTRATEGIC APPROACH:\n- Create BMI calculation service with unit conversion\n- Include standard BMI classification categories\n- Add health recommendations based on BMI ranges\n- Support both metric and imperial measurement systems\n- Include measurement validation and error handling\n\nDESIGN PREPARATION:\n- Core BMI calculation formula implementation\n- Unit conversion between metric and imperial\n- BMI classification according to WHO standards\n- Health recommendation database\n</thinking>\n\n<blueprint>\nService BMICalculator {\n  description: \"Calculates BMI with health classifications and recommendations\",\n  \n  dependencies: {\n    recommendations: HealthRecommendationService\n  },\n  \n  methods: {\n    calculateBMI(height: decimal, weight: decimal, units: MeasurementUnits) -> BMIResult {\n      preconditions: [height > 0, weight > 0, realistic measurements],\n      postconditions: [returns BMI with classification and recommendations],\n      errors: [InvalidHeight, InvalidWeight, UnrealisticMeasurement]\n    },\n    \n    convertUnits(measurement: Measurement, fromUnits: MeasurementUnits, toUnits: MeasurementUnits) -> decimal {\n      preconditions: [measurement valid, units supported],\n      postconditions: [returns converted measurement],\n      errors: [UnsupportedUnits, InvalidMeasurement]\n    },\n    \n    getBMIClassification(bmi: decimal) -> BMIClassification {\n      preconditions: [BMI value realistic],\n      postconditions: [returns WHO classification category]\n    },\n    \n    getHealthRecommendations(classification: BMIClassification, age: int, gender: Gender) -> HealthRecommendations {\n      preconditions: [valid classification and demographics],\n      postconditions: [returns personalized health advice]\n    }\n  }\n}\n\nType BMIResult {\n  bmi: decimal,\n  classification: BMIClassification,\n  category: string,\n  healthStatus: string,\n  recommendations: string[],\n  idealWeightRange: WeightRange\n}\n\nType BMIClassification {\n  category: string,\n  range: {min: decimal, max: decimal},\n  riskLevel: string,\n  description: string\n}\n\nType MeasurementUnits {\n  enum: [\"metric\", \"imperial\"]\n}\n\nType WeightRange {\n  minimum: decimal,\n  maximum: decimal,\n  units: string\n}\n\nValidation MeasurementRanges {\n  height: {\n    metric: {min: 0.5, max: 2.5, unit: \"meters\"},\n    imperial: {min: 20, max: 96, unit: \"inches\"}\n  },\n  weight: {\n    metric: {min: 20, max: 500, unit: \"kilograms\"},\n    imperial: {min: 44, max: 1100, unit: \"pounds\"}\n  },\n  age: {min: 2, max: 120, unit: \"years\"}\n}\n\nOperation BMIClassificationLookup {\n  classifications: [\n    {category: \"Underweight\", range: {min: 0, max: 18.4}, riskLevel: \"low-moderate\"},\n    {category: \"Normal\", range: {min: 18.5, max: 24.9}, riskLevel: \"low\"},\n    {category: \"Overweight\", range: {min: 25.0, max: 29.9}, riskLevel: \"moderate\"},\n    {category: \"Obese Class I\", range: {min: 30.0, max: 34.9}, riskLevel: \"high\"},\n    {category: \"Obese Class II\", range: {min: 35.0, max: 39.9}, riskLevel: \"very high\"},\n    {category: \"Obese Class III\", range: {min: 40.0, max: 100}, riskLevel: \"extremely high\"}\n  ]\n}\n</blueprint>"}
{"id": "calc_003", "category": "basic_systems", "subcategory": "simple_calculations", "difficulty": "basic", "user_query": "Build a tip calculator system", "response": "<thinking>\nPROBLEM UNDERSTANDING:\n- Need calculator for restaurant tips and bill splitting\n- Should handle different tip percentages and custom amounts\n- Must support splitting bills among multiple people\n- Should include tax considerations and rounding options\n\nSTRATEGIC APPROACH:\n- Create tip calculation service with flexible options\n- Support standard tip percentages and custom amounts\n- Include bill splitting functionality\n- Add tax calculation handling\n- Provide rounding options for practical payment\n\nDESIGN PREPARATION:\n- Core tip calculation with percentage and fixed amount options\n- Bill splitting logic with fair distribution\n- Tax handling for pre/post tax tip calculation\n- Rounding strategies for payment convenience\n</thinking>\n\n<blueprint>\nService TipCalculator {\n  description: \"Calculates tips and splits bills with flexible options\",\n  \n  methods: {\n    calculateTip(billAmount: decimal, tipPercentage: decimal, includesTax: bool) -> TipResult {\n      preconditions: [billAmount > 0, tipPercentage >= 0],\n      postconditions: [returns tip amount and total with breakdown],\n      errors: [InvalidBillAmount, InvalidTipPercentage]\n    },\n    \n    calculateCustomTip(billAmount: decimal, tipAmount: decimal) -> TipResult {\n      preconditions: [billAmount > 0, tipAmount >= 0],\n      postconditions: [returns equivalent tip percentage and totals],\n      errors: [InvalidAmount]\n    },\n    \n    splitBill(billAmount: decimal, tipPercentage: decimal, numberOfPeople: int, roundingOption: RoundingOption) -> BillSplit {\n      preconditions: [billAmount > 0, numberOfPeople > 0, tipPercentage >= 0],\n      postconditions: [returns per-person amounts with fair distribution],\n      errors: [InvalidParameters]\n    },\n    \n    calculateWithTax(subtotal: decimal, taxRate: decimal, tipPercentage: decimal, tipOnSubtotal: bool) -> TaxTipResult {\n      preconditions: [all amounts positive, taxRate reasonable],\n      postconditions: [returns complete breakdown with tax and tip],\n      errors: [InvalidTaxRate]\n    },\n    \n    suggestTipPercentages(serviceQuality: ServiceQuality, billAmount: decimal) -> TipSuggestions {\n      preconditions: [valid service quality rating],\n      postconditions: [returns appropriate tip percentage suggestions]\n    }\n  }\n}\n\nType TipResult {\n  originalAmount: decimal,\n  tipAmount: decimal,\n  tipPercentage: decimal,\n  totalAmount: decimal,\n  roundedTotal: decimal\n}\n\nType BillSplit {\n  totalBill: decimal,\n  totalTip: decimal,\n  grandTotal: decimal,\n  numberOfPeople: int,\n  perPersonSubtotal: decimal,\n  perPersonTip: decimal,\n  perPersonTotal: decimal,\n  roundingAdjustment: decimal\n}\n\nType TaxTipResult {\n  subtotal: decimal,\n  taxAmount: decimal,\n  tipAmount: decimal,\n  grandTotal: decimal,\n  effectiveTipRate: decimal\n}\n\nType ServiceQuality {\n  enum: [\"poor\", \"fair\", \"good\", \"excellent\", \"exceptional\"]\n}\n\nType RoundingOption {\n  enum: [\"none\", \"nearest_quarter\", \"nearest_dollar\", \"round_up\"]\n}\n\nType TipSuggestions {\n  serviceQuality: ServiceQuality,\n  suggestions: [\n    {percentage: decimal, description: string, amount: decimal}\n  ]\n}\n\nValidation TipCalculatorLimits {\n  minimumBill: {value: 0.01, currency: \"USD\"},\n  maximumBill: {value: 100000, currency: \"USD\"},\n  minimumTip: {value: 0, percentage: true},\n  maximumTip: {value: 100, percentage: true},\n  maximumPeople: {value: 100},\n  standardTipRates: {\n    poor: {min: 0, max: 10},\n    fair: {min: 10, max: 15},\n    good: {min: 15, max: 20},\n    excellent: {min: 20, max: 25},\n    exceptional: {min: 25, max: 30}\n  }\n}\n</blueprint>"}